[{"C:\\Users\\User\\mesto-react\\src\\index.js":"1","C:\\Users\\User\\mesto-react\\src\\reportWebVitals.js":"2","C:\\Users\\User\\mesto-react\\src\\components\\App.js":"3","C:\\Users\\User\\mesto-react\\src\\components\\Header.js":"4","C:\\Users\\User\\mesto-react\\src\\components\\Main.js":"5","C:\\Users\\User\\mesto-react\\src\\components\\Footer.js":"6","C:\\Users\\User\\mesto-react\\src\\components\\PopupWithForm.js":"7","C:\\Users\\User\\mesto-react\\src\\components\\ImagePopup.js":"8","C:\\Users\\User\\mesto-react\\src\\components\\Card.js":"9","C:\\Users\\User\\mesto-react\\src\\utils\\Api.js":"10","C:\\Users\\User\\mesto-react\\src\\utils\\api.js":"11","C:\\Users\\User\\mesto-react\\src\\contexts\\CurrentUserContext.js":"12","C:\\Users\\User\\mesto-react\\src\\components\\EditProfilePopup.js":"13","C:\\Users\\User\\mesto-react\\src\\components\\EditAvatarPopup.js":"14","C:\\Users\\User\\mesto-react\\src\\components\\AddPlacePopup.js":"15","C:\\Users\\User\\react-mesto-auth\\src\\index.js":"16","C:\\Users\\User\\react-mesto-auth\\src\\reportWebVitals.js":"17","C:\\Users\\User\\react-mesto-auth\\src\\components\\App.js":"18","C:\\Users\\User\\react-mesto-auth\\src\\components\\ImagePopup.js":"19","C:\\Users\\User\\react-mesto-auth\\src\\components\\Footer.js":"20","C:\\Users\\User\\react-mesto-auth\\src\\components\\Header.js":"21","C:\\Users\\User\\react-mesto-auth\\src\\components\\Main.js":"22","C:\\Users\\User\\react-mesto-auth\\src\\components\\PopupWithForm.js":"23","C:\\Users\\User\\react-mesto-auth\\src\\components\\EditAvatarPopup.js":"24","C:\\Users\\User\\react-mesto-auth\\src\\components\\EditProfilePopup.js":"25","C:\\Users\\User\\react-mesto-auth\\src\\components\\AddPlacePopup.js":"26","C:\\Users\\User\\react-mesto-auth\\src\\contexts\\CurrentUserContext.js":"27","C:\\Users\\User\\react-mesto-auth\\src\\utils\\api.js":"28","C:\\Users\\User\\react-mesto-auth\\src\\components\\Card.js":"29","C:\\Users\\User\\react-mesto-auth\\src\\components\\Login.js":"30","C:\\Users\\User\\react-mesto-auth\\src\\components\\ProtectedRoute.js":"31","C:\\Users\\User\\react-mesto-auth\\src\\components\\Register.js":"32","C:\\Users\\User\\react-mesto-auth\\src\\components\\InfoTooltip.js":"33","C:\\Users\\User\\react-mesto-auth\\src\\utils\\auth.js":"34"},{"size":511,"mtime":1610749378878,"results":"35","hashOfConfig":"36"},{"size":362,"mtime":499162500000,"results":"37","hashOfConfig":"36"},{"size":3969,"mtime":1611824497896,"results":"38","hashOfConfig":"36"},{"size":272,"mtime":1610809388116,"results":"39","hashOfConfig":"36"},{"size":1810,"mtime":1611817323694,"results":"40","hashOfConfig":"36"},{"size":240,"mtime":1610841480123,"results":"41","hashOfConfig":"36"},{"size":713,"mtime":1611800698374,"results":"42","hashOfConfig":"36"},{"size":591,"mtime":1610914327545,"results":"43","hashOfConfig":"36"},{"size":1485,"mtime":1611824415648,"results":"44","hashOfConfig":"36"},{"size":2781,"mtime":1610840639725,"results":"45","hashOfConfig":"46"},{"size":3535,"mtime":1611825242150,"results":"47","hashOfConfig":"36"},{"size":117,"mtime":1611784568681,"results":"48","hashOfConfig":"36"},{"size":1681,"mtime":1611814982195,"results":"49","hashOfConfig":"36"},{"size":925,"mtime":1611804630164,"results":"50","hashOfConfig":"36"},{"size":1442,"mtime":1611824589308,"results":"51","hashOfConfig":"36"},{"size":602,"mtime":1615492349298,"results":"52","hashOfConfig":"53"},{"size":362,"mtime":499162500000,"results":"54","hashOfConfig":"53"},{"size":6545,"mtime":1615869774222,"results":"55","hashOfConfig":"53"},{"size":591,"mtime":1610914327545,"results":"56","hashOfConfig":"53"},{"size":240,"mtime":1610841480123,"results":"57","hashOfConfig":"53"},{"size":1063,"mtime":1615644377276,"results":"58","hashOfConfig":"53"},{"size":1810,"mtime":1611817323694,"results":"59","hashOfConfig":"53"},{"size":713,"mtime":1611800698374,"results":"60","hashOfConfig":"53"},{"size":925,"mtime":1611804630164,"results":"61","hashOfConfig":"53"},{"size":1681,"mtime":1611814982195,"results":"62","hashOfConfig":"53"},{"size":1442,"mtime":1611824589308,"results":"63","hashOfConfig":"53"},{"size":117,"mtime":1611784568681,"results":"64","hashOfConfig":"53"},{"size":3412,"mtime":1615794713764,"results":"65","hashOfConfig":"53"},{"size":1485,"mtime":1611824415648,"results":"66","hashOfConfig":"53"},{"size":1304,"mtime":1615911420826,"results":"67","hashOfConfig":"53"},{"size":332,"mtime":1615633060675,"results":"68","hashOfConfig":"53"},{"size":1562,"mtime":1615911433748,"results":"69","hashOfConfig":"53"},{"size":1052,"mtime":1615694269590,"results":"70","hashOfConfig":"53"},{"size":2079,"mtime":1615865943583,"results":"71","hashOfConfig":"53"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1cb3yc8",{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"89g922",{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},"n7mlvj",{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"104"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"132"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},"C:\\Users\\User\\mesto-react\\src\\index.js",[],"C:\\Users\\User\\mesto-react\\src\\reportWebVitals.js",[],"C:\\Users\\User\\mesto-react\\src\\components\\App.js",[],"C:\\Users\\User\\mesto-react\\src\\components\\Header.js",[],"C:\\Users\\User\\mesto-react\\src\\components\\Main.js",[],"C:\\Users\\User\\mesto-react\\src\\components\\Footer.js",[],"C:\\Users\\User\\mesto-react\\src\\components\\PopupWithForm.js",[],"C:\\Users\\User\\mesto-react\\src\\components\\ImagePopup.js",[],"C:\\Users\\User\\mesto-react\\src\\components\\Card.js",[],"C:\\Users\\User\\mesto-react\\src\\utils\\Api.js",[],"C:\\Users\\User\\mesto-react\\src\\utils\\api.js",[],"C:\\Users\\User\\mesto-react\\src\\contexts\\CurrentUserContext.js",[],"C:\\Users\\User\\mesto-react\\src\\components\\EditProfilePopup.js",[],"C:\\Users\\User\\mesto-react\\src\\components\\EditAvatarPopup.js",[],"C:\\Users\\User\\mesto-react\\src\\components\\AddPlacePopup.js",[],"C:\\Users\\User\\react-mesto-auth\\src\\index.js",[],["143","144"],"C:\\Users\\User\\react-mesto-auth\\src\\reportWebVitals.js",[],"C:\\Users\\User\\react-mesto-auth\\src\\components\\App.js",["145"],"import '../index';\nimport Header from '../components/Header';\nimport Main from '../components/Main';\nimport Footer from '../components/Footer';\nimport PopupWithForm from './PopupWithForm';\nimport React from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport ImagePopup from '../components/ImagePopup';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport { api } from '../utils/api';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ProtectedRoute from './ProtectedRoute';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport * as auth from '../utils/auth';\n\nfunction App() {\n  const history = useHistory();\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({ name: '', link: '' });\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  const [email, setEmail] = React.useState('');\n  const [isRequestSuccessful, setisRequestSuccessful] = React.useState(false);\n\n  React.useEffect(() => { \n    api.getInitialCards() \n    .then((data) => { \n        setCards(data)\n    })\n    .catch((err) => {\n        console.log(err);\n    });\n}, []); \n\n  React.useEffect(() => {\n    api.getUserData().then((data) => {\n      setCurrentUser(data);\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }, []);\n\n  function handleUpdateUser(user) {\n    api.setUserData(user).then((res) => {\n      setCurrentUser(res);\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err);\n    })    \n  }\n\n  function handleUpdateAvatar(avatar) {\n    api.setUserAvatar(avatar).then((data) => {\n      setCurrentUser(data)\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n\n  function handleCardDelete(card) {\n    api.removeCard(card).then(() => {\n      const newCards = cards.filter((item) => item._id !== card._id);\n      setCards(newCards);\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }\n\n  function handleAddPlace(data) {\n    api.addCard(data).then((newCard) => {\n      setCards([newCard,...cards]);\n    })\n    .then(() => {\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  }\n\n  const closeAllPopups = () => {\n    setIsAddPlacePopupOpen(false)\n    setIsEditProfilePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setSelectedCard({ name: '', link: '' })\n    setIsInfoTooltipOpen(false)\n  }\n  \n  function handleRegister(email, password) {\n    auth.register(email, password)\n    .then((res) => {\n      if (res) {\n        setIsInfoTooltipOpen(true)\n        setisRequestSuccessful(true)\n        history.push('/sign-in')\n      }\n    })\n    .catch((err) => {\n      console.log(err)\n      setIsInfoTooltipOpen(true)\n      setisRequestSuccessful(false)\n    })\n  }\n\n  function handleLogin(email, password) {\n    auth.authorize(email, password)\n    .then((res) => {\n      if (res.token){\n          localStorage.setItem('jwt', res.token)\n          return res\n      } else {\n          return\n      }\n  })\n    .then(data => {\n      if (data.token) {\n        setLoggedIn(true)\n        setEmail(email)\n        history.push('/')\n      }\n    })\n    .catch(err => {\n      console.log(err)\n      setIsInfoTooltipOpen(true)\n      setisRequestSuccessful(false)\n    })\n  }\n\n  function handleLogout() {\n    setLoggedIn(false)\n    setEmail(email)\n    localStorage.removeItem('jwt')\n    history.push('/sign-in')\n  }\n\n  function handleTokenCheck() {\n    const jwt = localStorage.getItem('jwt')\n    if (jwt) {\n      auth.getContent(jwt)\n        .then((res) => {\n          if (res) {\n            setLoggedIn(true)\n            setEmail(res.data.email)\n            history.push('/')\n          }\n        })\n        .catch((err) => {\n          console.log(err)\n        })\n    }\n  }\n\n  React.useEffect(() => {\n    handleTokenCheck()\n  }, [])\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <div className='page'>\n    <Header email={email} loggedOut={handleLogout} loggedIn={loggedIn} />\n    <Switch>\n      <ProtectedRoute exact path='/'\n      loggedIn={loggedIn}\n      component={Main}\n    onEditProfile={handleEditProfileClick}\n    onAddPlace={handleAddPlaceClick}\n    onEditAvatar={handleEditAvatarClick}\n    onCardClick={handleCardClick}\n    onCardLike={handleCardLike}\n    onCardDelete={handleCardDelete}\n    closeAllPopups={closeAllPopups}\n    cards = {cards} />\n     <Route path='/sign-in'>\n       <Login handleLogin={handleLogin} setEmail={setEmail} />\n     </Route>\n     <Route path='/sign-up'>\n       <Register handleRegister={handleRegister} />\n     </Route>\n     <Route>\n       {loggedIn ? <Redirect to='/' /> : <Redirect to='/sign-in' />}\n     </Route>\n     </Switch>\n    <Footer />\n\n    <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n    <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlace} />\n    <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n    <PopupWithForm\n    title=\"Вы уверены?\"\n    name=\"confirmation\"\n    />\n    <InfoTooltip isRequestSuccessful={isRequestSuccessful} isOpen={isInfoTooltipOpen} onClose={closeAllPopups} />\n    <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n</div>\n</CurrentUserContext.Provider>\n\n  );\n}\n\nexport default App;\n","C:\\Users\\User\\react-mesto-auth\\src\\components\\ImagePopup.js",[],"C:\\Users\\User\\react-mesto-auth\\src\\components\\Footer.js",[],"C:\\Users\\User\\react-mesto-auth\\src\\components\\Header.js",[],"C:\\Users\\User\\react-mesto-auth\\src\\components\\Main.js",[],"C:\\Users\\User\\react-mesto-auth\\src\\components\\PopupWithForm.js",[],"C:\\Users\\User\\react-mesto-auth\\src\\components\\EditAvatarPopup.js",[],"C:\\Users\\User\\react-mesto-auth\\src\\components\\EditProfilePopup.js",[],"C:\\Users\\User\\react-mesto-auth\\src\\components\\AddPlacePopup.js",[],"C:\\Users\\User\\react-mesto-auth\\src\\contexts\\CurrentUserContext.js",[],"C:\\Users\\User\\react-mesto-auth\\src\\utils\\api.js",[],"C:\\Users\\User\\react-mesto-auth\\src\\components\\Card.js",[],["146","147"],"C:\\Users\\User\\react-mesto-auth\\src\\components\\Login.js",[],"C:\\Users\\User\\react-mesto-auth\\src\\components\\ProtectedRoute.js",[],"C:\\Users\\User\\react-mesto-auth\\src\\components\\Register.js",[],"C:\\Users\\User\\react-mesto-auth\\src\\components\\InfoTooltip.js",[],"C:\\Users\\User\\react-mesto-auth\\src\\utils\\auth.js",[],{"ruleId":"148","replacedBy":"149"},{"ruleId":"150","replacedBy":"151"},{"ruleId":"152","severity":1,"message":"153","line":195,"column":6,"nodeType":"154","endLine":195,"endColumn":8,"suggestions":"155"},{"ruleId":"148","replacedBy":"156"},{"ruleId":"150","replacedBy":"157"},"no-native-reassign",["158"],"no-negated-in-lhs",["159"],"react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'handleTokenCheck'. Either include it or remove the dependency array.","ArrayExpression",["160"],["158"],["159"],"no-global-assign","no-unsafe-negation",{"desc":"161","fix":"162"},"Update the dependencies array to be: [handleTokenCheck]",{"range":"163","text":"164"},[5003,5005],"[handleTokenCheck]"]